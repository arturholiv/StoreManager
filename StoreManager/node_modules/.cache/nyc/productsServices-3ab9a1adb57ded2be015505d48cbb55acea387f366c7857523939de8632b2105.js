function cov_rtftiw29s(){var path="/home/artur/projetos/sd-016-b-store-manager/services/productsServices.js";var hash="f2f6875758c0d467adf047ffd5d09b8fcde267bf";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/artur/projetos/sd-016-b-store-manager/services/productsServices.js",statementMap:{"0":{start:{line:1,column:23},end:{line:1,column:58}},"1":{start:{line:3,column:15},end:{line:7,column:1}},"2":{start:{line:4,column:19},end:{line:4,column:48}},"3":{start:{line:5,column:2},end:{line:5,column:54}},"4":{start:{line:5,column:17},end:{line:5,column:54}},"5":{start:{line:6,column:2},end:{line:6,column:43}},"6":{start:{line:9,column:16},end:{line:13,column:1}},"7":{start:{line:10,column:18},end:{line:10,column:50}},"8":{start:{line:11,column:2},end:{line:11,column:92}},"9":{start:{line:11,column:28},end:{line:11,column:92}},"10":{start:{line:12,column:2},end:{line:12,column:45}},"11":{start:{line:15,column:27},end:{line:28,column:1}},"12":{start:{line:16,column:22},end:{line:16,column:51}},"13":{start:{line:17,column:24},end:{line:17,column:76}},"14":{start:{line:17,column:54},end:{line:17,column:75}},"15":{start:{line:19,column:18},end:{line:19,column:73}},"16":{start:{line:20,column:2},end:{line:20,column:90}},"17":{start:{line:20,column:21},end:{line:20,column:90}},"18":{start:{line:22,column:2},end:{line:27,column:10}},"19":{start:{line:30,column:22},end:{line:38,column:1}},"20":{start:{line:31,column:19},end:{line:31,column:51}},"21":{start:{line:34,column:2},end:{line:34,column:93}},"22":{start:{line:34,column:29},end:{line:34,column:93}},"23":{start:{line:36,column:18},end:{line:36,column:72}},"24":{start:{line:37,column:2},end:{line:37,column:42}},"25":{start:{line:47,column:0},end:{line:53,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:15},end:{line:3,column:16}},loc:{start:{line:3,column:27},end:{line:7,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:16},end:{line:9,column:17}},loc:{start:{line:9,column:30},end:{line:13,column:1}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:27},end:{line:15,column:28}},loc:{start:{line:15,column:53},end:{line:28,column:1}},line:15},"3":{name:"(anonymous_3)",decl:{start:{line:17,column:41},end:{line:17,column:42}},loc:{start:{line:17,column:54},end:{line:17,column:75}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:22},end:{line:30,column:23}},loc:{start:{line:30,column:52},end:{line:38,column:1}},line:30}},branchMap:{"0":{loc:{start:{line:5,column:2},end:{line:5,column:54}},type:"if",locations:[{start:{line:5,column:2},end:{line:5,column:54}},{start:{line:5,column:2},end:{line:5,column:54}}],line:5},"1":{loc:{start:{line:11,column:2},end:{line:11,column:92}},type:"if",locations:[{start:{line:11,column:2},end:{line:11,column:92}},{start:{line:11,column:2},end:{line:11,column:92}}],line:11},"2":{loc:{start:{line:20,column:2},end:{line:20,column:90}},type:"if",locations:[{start:{line:20,column:2},end:{line:20,column:90}},{start:{line:20,column:2},end:{line:20,column:90}}],line:20},"3":{loc:{start:{line:34,column:2},end:{line:34,column:93}},type:"if",locations:[{start:{line:34,column:2},end:{line:34,column:93}},{start:{line:34,column:2},end:{line:34,column:93}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f2f6875758c0d467adf047ffd5d09b8fcde267bf"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_rtftiw29s=function(){return actualCoverage;};}return actualCoverage;}cov_rtftiw29s();const productsModels=(cov_rtftiw29s().s[0]++,require('../models/productsModels'));cov_rtftiw29s().s[1]++;const getAll=async()=>{cov_rtftiw29s().f[0]++;const products=(cov_rtftiw29s().s[2]++,await productsModels.getAll());cov_rtftiw29s().s[3]++;if(!products){cov_rtftiw29s().b[0][0]++;cov_rtftiw29s().s[4]++;return{code:500,response:null};}else{cov_rtftiw29s().b[0][1]++;}cov_rtftiw29s().s[5]++;return{code:200,response:products};};cov_rtftiw29s().s[6]++;const getById=async id=>{cov_rtftiw29s().f[1]++;const product=(cov_rtftiw29s().s[7]++,await productsModels.getById(id));cov_rtftiw29s().s[8]++;if(product.length===0){cov_rtftiw29s().b[1][0]++;cov_rtftiw29s().s[9]++;return{code:404,message:{message:'Product not found'}};}else{cov_rtftiw29s().b[1][1]++;}cov_rtftiw29s().s[10]++;return{code:200,response:product[0]};};cov_rtftiw29s().s[11]++;const registerNewProduct=async(name,quantity)=>{cov_rtftiw29s().f[2]++;const allProducts=(cov_rtftiw29s().s[12]++,await productsModels.getAll());const productExists=(cov_rtftiw29s().s[13]++,allProducts.find(product=>{cov_rtftiw29s().f[3]++;cov_rtftiw29s().s[14]++;return product.name===name;}));const product=(cov_rtftiw29s().s[15]++,await productsModels.registerNewProduct(name,quantity));cov_rtftiw29s().s[16]++;if(productExists){cov_rtftiw29s().b[2][0]++;cov_rtftiw29s().s[17]++;return{code:409,message:{message:'Product already exists'}};}else{cov_rtftiw29s().b[2][1]++;}cov_rtftiw29s().s[18]++;return{code:201,response:{id:product.id,name,quantity}};};cov_rtftiw29s().s[19]++;const updateProduct=async(id,name,quantity)=>{cov_rtftiw29s().f[4]++;const searchId=(cov_rtftiw29s().s[20]++,await productsModels.getById(id));// const idExists = allProducts.find((product) => product.id === id);
cov_rtftiw29s().s[21]++;if(searchId.length===0){cov_rtftiw29s().b[3][0]++;cov_rtftiw29s().s[22]++;return{code:404,message:{message:'Product not found'}};}else{cov_rtftiw29s().b[3][1]++;}const product=(cov_rtftiw29s().s[23]++,await productsModels.updateProduct(id,name,quantity));cov_rtftiw29s().s[24]++;return{code:200,response:product};};// const deleteProduct = async (id) => {
//   const searchId = await productsModels.getById(id);
//   if (searchId.length === 0) return { code: 404, message: { message: 'Product not found' } };
//   await productsModels.deleteProduct(id);
//   return { code: 204 };
// };
cov_rtftiw29s().s[25]++;module.exports={getAll,getById,registerNewProduct,updateProduct// deleteProduct,
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzU2VydmljZXMuanMiXSwibmFtZXMiOlsicHJvZHVjdHNNb2RlbHMiLCJyZXF1aXJlIiwiZ2V0QWxsIiwicHJvZHVjdHMiLCJjb2RlIiwicmVzcG9uc2UiLCJnZXRCeUlkIiwiaWQiLCJwcm9kdWN0IiwibGVuZ3RoIiwibWVzc2FnZSIsInJlZ2lzdGVyTmV3UHJvZHVjdCIsIm5hbWUiLCJxdWFudGl0eSIsImFsbFByb2R1Y3RzIiwicHJvZHVjdEV4aXN0cyIsImZpbmQiLCJ1cGRhdGVQcm9kdWN0Iiwic2VhcmNoSWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoib3VIQWVZO3lGQWZaLEtBQU1BLENBQUFBLGNBQWMseUJBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUFWLENBQXBCLEMsdUJBRUEsS0FBTUMsQ0FBQUEsTUFBTSxDQUFHLFNBQVksd0JBQ3pCLEtBQU1DLENBQUFBLFFBQVEseUJBQUcsS0FBTUgsQ0FBQUEsY0FBYyxDQUFDRSxNQUFmLEVBQVQsQ0FBZCxDQUR5Qix1QkFFekIsR0FBSSxDQUFDQyxRQUFMLENBQWUsd0RBQU8sQ0FBRUMsSUFBSSxDQUFFLEdBQVIsQ0FBYUMsUUFBUSxDQUFFLElBQXZCLENBQVAsQ0FBcUMsQ0FBcEQsZ0NBRnlCLHVCQUd6QixNQUFPLENBQUVELElBQUksQ0FBRSxHQUFSLENBQWFDLFFBQVEsQ0FBRUYsUUFBdkIsQ0FBUCxDQUNELENBSkQsQyx1QkFNQSxLQUFNRyxDQUFBQSxPQUFPLENBQUcsS0FBT0MsQ0FBQUEsRUFBUCxFQUFjLHdCQUM1QixLQUFNQyxDQUFBQSxPQUFPLHlCQUFHLEtBQU1SLENBQUFBLGNBQWMsQ0FBQ00sT0FBZixDQUF1QkMsRUFBdkIsQ0FBVCxDQUFiLENBRDRCLHVCQUU1QixHQUFJQyxPQUFPLENBQUNDLE1BQVIsR0FBbUIsQ0FBdkIsQ0FBMEIsd0RBQU8sQ0FBRUwsSUFBSSxDQUFFLEdBQVIsQ0FBYU0sT0FBTyxDQUFFLENBQUVBLE9BQU8sQ0FBRSxtQkFBWCxDQUF0QixDQUFQLENBQWdFLENBQTFGLGdDQUY0Qix3QkFHNUIsTUFBTyxDQUFFTixJQUFJLENBQUUsR0FBUixDQUFhQyxRQUFRLENBQUVHLE9BQU8sQ0FBQyxDQUFELENBQTlCLENBQVAsQ0FDRCxDQUpELEMsd0JBTUEsS0FBTUcsQ0FBQUEsa0JBQWtCLENBQUcsTUFBT0MsSUFBUCxDQUFhQyxRQUFiLEdBQTBCLHdCQUNuRCxLQUFNQyxDQUFBQSxXQUFXLDBCQUFHLEtBQU1kLENBQUFBLGNBQWMsQ0FBQ0UsTUFBZixFQUFULENBQWpCLENBQ0EsS0FBTWEsQ0FBQUEsYUFBYSwwQkFBR0QsV0FBVyxDQUFDRSxJQUFaLENBQWtCUixPQUFELEVBQWEsc0RBQUFBLENBQUFBLE9BQU8sQ0FBQ0ksSUFBUixHQUFpQkEsSUFBakIsQ0FBcUIsQ0FBbkQsQ0FBSCxDQUFuQixDQUVBLEtBQU1KLENBQUFBLE9BQU8sMEJBQUcsS0FBTVIsQ0FBQUEsY0FBYyxDQUFDVyxrQkFBZixDQUFrQ0MsSUFBbEMsQ0FBd0NDLFFBQXhDLENBQVQsQ0FBYixDQUptRCx3QkFLbkQsR0FBSUUsYUFBSixDQUFtQix5REFBTyxDQUFFWCxJQUFJLENBQUUsR0FBUixDQUFhTSxPQUFPLENBQUUsQ0FBRUEsT0FBTyxDQUFFLHdCQUFYLENBQXRCLENBQVAsQ0FBcUUsQ0FBeEYsZ0NBTG1ELHdCQU9uRCxNQUFPLENBQUVOLElBQUksQ0FBRSxHQUFSLENBQ0xDLFFBQVEsQ0FBRSxDQUNORSxFQUFFLENBQUVDLE9BQU8sQ0FBQ0QsRUFETixDQUVOSyxJQUZNLENBR05DLFFBSE0sQ0FETCxDQUFQLENBTUQsQ0FiRCxDLHdCQWVBLEtBQU1JLENBQUFBLGFBQWEsQ0FBRyxNQUFPVixFQUFQLENBQVdLLElBQVgsQ0FBaUJDLFFBQWpCLEdBQThCLHdCQUNsRCxLQUFNSyxDQUFBQSxRQUFRLDBCQUFHLEtBQU1sQixDQUFBQSxjQUFjLENBQUNNLE9BQWYsQ0FBdUJDLEVBQXZCLENBQVQsQ0FBZCxDQUNBO0FBRmtELHdCQUlsRCxHQUFJVyxRQUFRLENBQUNULE1BQVQsR0FBb0IsQ0FBeEIsQ0FBMkIseURBQU8sQ0FBRUwsSUFBSSxDQUFFLEdBQVIsQ0FBYU0sT0FBTyxDQUFFLENBQUVBLE9BQU8sQ0FBRSxtQkFBWCxDQUF0QixDQUFQLENBQWdFLENBQTNGLGdDQUVBLEtBQU1GLENBQUFBLE9BQU8sMEJBQUcsS0FBTVIsQ0FBQUEsY0FBYyxDQUFDaUIsYUFBZixDQUE2QlYsRUFBN0IsQ0FBaUNLLElBQWpDLENBQXVDQyxRQUF2QyxDQUFULENBQWIsQ0FOa0Qsd0JBT2xELE1BQU8sQ0FBRVQsSUFBSSxDQUFFLEdBQVIsQ0FBYUMsUUFBUSxDQUFFRyxPQUF2QixDQUFQLENBQ0QsQ0FSRCxDQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTt3QkFFQVcsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2ZsQixNQURlLENBRWZJLE9BRmUsQ0FHZkssa0JBSGUsQ0FJZk0sYUFDQTtBQUxlLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcHJvZHVjdHNNb2RlbHMgPSByZXF1aXJlKCcuLi9tb2RlbHMvcHJvZHVjdHNNb2RlbHMnKTtcblxuY29uc3QgZ2V0QWxsID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RzTW9kZWxzLmdldEFsbCgpO1xuICBpZiAoIXByb2R1Y3RzKSByZXR1cm4geyBjb2RlOiA1MDAsIHJlc3BvbnNlOiBudWxsIH07IFxuICByZXR1cm4geyBjb2RlOiAyMDAsIHJlc3BvbnNlOiBwcm9kdWN0cyB9O1xufTtcblxuY29uc3QgZ2V0QnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdHNNb2RlbHMuZ2V0QnlJZChpZCk7XG4gIGlmIChwcm9kdWN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIHsgY29kZTogNDA0LCBtZXNzYWdlOiB7IG1lc3NhZ2U6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSB9O1xuICByZXR1cm4geyBjb2RlOiAyMDAsIHJlc3BvbnNlOiBwcm9kdWN0WzBdIH07XG59O1xuXG5jb25zdCByZWdpc3Rlck5ld1Byb2R1Y3QgPSBhc3luYyAobmFtZSwgcXVhbnRpdHkpID0+IHtcbiAgY29uc3QgYWxsUHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0c01vZGVscy5nZXRBbGwoKTtcbiAgY29uc3QgcHJvZHVjdEV4aXN0cyA9IGFsbFByb2R1Y3RzLmZpbmQoKHByb2R1Y3QpID0+IHByb2R1Y3QubmFtZSA9PT0gbmFtZSk7XG5cbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RzTW9kZWxzLnJlZ2lzdGVyTmV3UHJvZHVjdChuYW1lLCBxdWFudGl0eSk7XG4gIGlmIChwcm9kdWN0RXhpc3RzKSByZXR1cm4geyBjb2RlOiA0MDksIG1lc3NhZ2U6IHsgbWVzc2FnZTogJ1Byb2R1Y3QgYWxyZWFkeSBleGlzdHMnIH0gfTtcblxuICByZXR1cm4geyBjb2RlOiAyMDEsXG4gICAgcmVzcG9uc2U6IHtcbiAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHF1YW50aXR5LFxuICAgICAgfSB9O1xufTtcblxuY29uc3QgdXBkYXRlUHJvZHVjdCA9IGFzeW5jIChpZCwgbmFtZSwgcXVhbnRpdHkpID0+IHtcbiAgY29uc3Qgc2VhcmNoSWQgPSBhd2FpdCBwcm9kdWN0c01vZGVscy5nZXRCeUlkKGlkKTtcbiAgLy8gY29uc3QgaWRFeGlzdHMgPSBhbGxQcm9kdWN0cy5maW5kKChwcm9kdWN0KSA9PiBwcm9kdWN0LmlkID09PSBpZCk7XG5cbiAgaWYgKHNlYXJjaElkLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHsgY29kZTogNDA0LCBtZXNzYWdlOiB7IG1lc3NhZ2U6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSB9O1xuXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0c01vZGVscy51cGRhdGVQcm9kdWN0KGlkLCBuYW1lLCBxdWFudGl0eSk7XG4gIHJldHVybiB7IGNvZGU6IDIwMCwgcmVzcG9uc2U6IHByb2R1Y3QgfTtcbn07XG5cbi8vIGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhc3luYyAoaWQpID0+IHtcbi8vICAgY29uc3Qgc2VhcmNoSWQgPSBhd2FpdCBwcm9kdWN0c01vZGVscy5nZXRCeUlkKGlkKTtcbi8vICAgaWYgKHNlYXJjaElkLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHsgY29kZTogNDA0LCBtZXNzYWdlOiB7IG1lc3NhZ2U6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSB9O1xuLy8gICBhd2FpdCBwcm9kdWN0c01vZGVscy5kZWxldGVQcm9kdWN0KGlkKTtcbi8vICAgcmV0dXJuIHsgY29kZTogMjA0IH07XG4vLyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QWxsLFxuICBnZXRCeUlkLFxuICByZWdpc3Rlck5ld1Byb2R1Y3QsXG4gIHVwZGF0ZVByb2R1Y3QsXG4gIC8vIGRlbGV0ZVByb2R1Y3QsXG59OyJdfQ==