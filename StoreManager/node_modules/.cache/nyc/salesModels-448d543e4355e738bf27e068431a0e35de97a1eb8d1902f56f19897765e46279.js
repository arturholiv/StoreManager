function cov_w1c5rn3hu(){var path="/home/artur/projetos/sd-016-b-store-manager/models/salesModels.js";var hash="884fe718f5eab2f5a4bd795820ca4aa04e1286e5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/artur/projetos/sd-016-b-store-manager/models/salesModels.js",statementMap:{"0":{start:{line:1,column:23},end:{line:1,column:46}},"1":{start:{line:3,column:15},end:{line:13,column:1}},"2":{start:{line:4,column:17},end:{line:10,column:32}},"3":{start:{line:11,column:18},end:{line:11,column:49}},"4":{start:{line:12,column:2},end:{line:12,column:15}},"5":{start:{line:15,column:16},end:{line:25,column:1}},"6":{start:{line:16,column:16},end:{line:22,column:19}},"7":{start:{line:23,column:17},end:{line:23,column:54}},"8":{start:{line:24,column:2},end:{line:24,column:14}},"9":{start:{line:27,column:23},end:{line:31,column:1}},"10":{start:{line:28,column:20},end:{line:28,column:75}},"11":{start:{line:29,column:25},end:{line:29,column:60}},"12":{start:{line:30,column:2},end:{line:30,column:26}},"13":{start:{line:33,column:22},end:{line:37,column:1}},"14":{start:{line:34,column:22},end:{line:35,column:53}},"15":{start:{line:36,column:2},end:{line:36,column:71}},"16":{start:{line:39,column:19},end:{line:44,column:1}},"17":{start:{line:40,column:16},end:{line:41,column:41}},"18":{start:{line:42,column:2},end:{line:42,column:65}},"19":{start:{line:43,column:2},end:{line:43,column:35}},"20":{start:{line:46,column:0},end:{line:52,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:15},end:{line:3,column:16}},loc:{start:{line:3,column:27},end:{line:13,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:30},end:{line:25,column:1}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:27,column:23},end:{line:27,column:24}},loc:{start:{line:27,column:35},end:{line:31,column:1}},line:27},"3":{name:"(anonymous_3)",decl:{start:{line:33,column:22},end:{line:33,column:23}},loc:{start:{line:33,column:61},end:{line:37,column:1}},line:33},"4":{name:"(anonymous_4)",decl:{start:{line:39,column:19},end:{line:39,column:20}},loc:{start:{line:39,column:58},end:{line:44,column:1}},line:39}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"884fe718f5eab2f5a4bd795820ca4aa04e1286e5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_w1c5rn3hu=function(){return actualCoverage;};}return actualCoverage;}cov_w1c5rn3hu();const{connection}=(cov_w1c5rn3hu().s[0]++,require('./connection'));cov_w1c5rn3hu().s[1]++;const getAll=async()=>{cov_w1c5rn3hu().f[0]++;const query=(cov_w1c5rn3hu().s[2]++,`SELECT
    s.id as saleId,
    s.date,
    sp.product_id as productId,
    sp.quantity
    FROM StoreManager.sales s JOIN StoreManager.sales_products sp ON sp.sale_id = s.id
    ORDER BY saleId, productId;`);const[sales]=(cov_w1c5rn3hu().s[3]++,await connection.execute(query));cov_w1c5rn3hu().s[4]++;return sales;};cov_w1c5rn3hu().s[5]++;const getById=async id=>{cov_w1c5rn3hu().f[1]++;const query=(cov_w1c5rn3hu().s[6]++,`SELECT
    s.date,
    sp.product_id as productId,
    sp.quantity
    FROM StoreManager.sales s
    JOIN StoreManager.sales_products sp ON sp.sale_id = s.id
    WHERE s.id = ?`);const[sale]=(cov_w1c5rn3hu().s[7]++,await connection.execute(query,[id]));cov_w1c5rn3hu().s[8]++;return sale;};cov_w1c5rn3hu().s[9]++;const createSaleDate=async()=>{cov_w1c5rn3hu().f[2]++;const queryDate=(cov_w1c5rn3hu().s[10]++,'INSERT INTO StoreManager.sales (date) VALUES (NOW());');const[{insertId}]=(cov_w1c5rn3hu().s[11]++,await connection.execute(queryDate));cov_w1c5rn3hu().s[12]++;return{id:insertId};};cov_w1c5rn3hu().s[13]++;const createNewSale=async(saleId,productId,quantity)=>{cov_w1c5rn3hu().f[3]++;const queryInsert=(cov_w1c5rn3hu().s[14]++,`INSERT INTO StoreManager.sales_products 
    (sale_id, product_id, quantity) VALUES(?, ?, ?);`);cov_w1c5rn3hu().s[15]++;await connection.execute(queryInsert,[saleId,productId,quantity]);};cov_w1c5rn3hu().s[16]++;const updateSale=async(saleId,productId,quantity)=>{cov_w1c5rn3hu().f[4]++;const query=(cov_w1c5rn3hu().s[17]++,`UPDATE StoreManager.sales_products SET quantity = ?
    WHERE sale_id = ? AND product_id = ?`);cov_w1c5rn3hu().s[18]++;await connection.execute(query,[quantity,saleId,productId]);cov_w1c5rn3hu().s[19]++;return[{productId,quantity}];};cov_w1c5rn3hu().s[20]++;module.exports={getAll,getById,createSaleDate,createNewSale,updateSale};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhbGVzTW9kZWxzLmpzIl0sIm5hbWVzIjpbImNvbm5lY3Rpb24iLCJyZXF1aXJlIiwiZ2V0QWxsIiwicXVlcnkiLCJzYWxlcyIsImV4ZWN1dGUiLCJnZXRCeUlkIiwiaWQiLCJzYWxlIiwiY3JlYXRlU2FsZURhdGUiLCJxdWVyeURhdGUiLCJpbnNlcnRJZCIsImNyZWF0ZU5ld1NhbGUiLCJzYWxlSWQiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInF1ZXJ5SW5zZXJ0IiwidXBkYXRlU2FsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJpb0ZBZVk7eUZBZlosS0FBTSxDQUFFQSxVQUFGLDBCQUFpQkMsT0FBTyxDQUFDLGNBQUQsQ0FBeEIsQ0FBTixDLHVCQUVBLEtBQU1DLENBQUFBLE1BQU0sQ0FBRyxTQUFZLHdCQUN6QixLQUFNQyxDQUFBQSxLQUFLLHlCQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FOYSxDQUFYLENBT0EsS0FBTSxDQUFDQyxLQUFELDBCQUFVLEtBQU1KLENBQUFBLFVBQVUsQ0FBQ0ssT0FBWCxDQUFtQkYsS0FBbkIsQ0FBaEIsQ0FBTixDQVJ5Qix1QkFTekIsTUFBT0MsQ0FBQUEsS0FBUCxDQUNELENBVkQsQyx1QkFZQSxLQUFNRSxDQUFBQSxPQUFPLENBQUcsS0FBT0MsQ0FBQUEsRUFBUCxFQUFjLHdCQUM1QixLQUFNSixDQUFBQSxLQUFLLHlCQUFJO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFOYSxDQUFYLENBT0EsS0FBTSxDQUFDSyxJQUFELDBCQUFTLEtBQU1SLENBQUFBLFVBQVUsQ0FBQ0ssT0FBWCxDQUFtQkYsS0FBbkIsQ0FBMEIsQ0FBQ0ksRUFBRCxDQUExQixDQUFmLENBQU4sQ0FSNEIsdUJBUzVCLE1BQU9DLENBQUFBLElBQVAsQ0FDRCxDQVZELEMsdUJBWUEsS0FBTUMsQ0FBQUEsY0FBYyxDQUFHLFNBQVksd0JBQ2pDLEtBQU1DLENBQUFBLFNBQVMsMEJBQUcsdURBQUgsQ0FBZixDQUNBLEtBQU0sQ0FBQyxDQUFFQyxRQUFGLENBQUQsMkJBQWlCLEtBQU1YLENBQUFBLFVBQVUsQ0FBQ0ssT0FBWCxDQUFtQkssU0FBbkIsQ0FBdkIsQ0FBTixDQUZpQyx3QkFHakMsTUFBTyxDQUFFSCxFQUFFLENBQUVJLFFBQU4sQ0FBUCxDQUNELENBSkQsQyx3QkFNQSxLQUFNQyxDQUFBQSxhQUFhLENBQUcsTUFBT0MsTUFBUCxDQUFlQyxTQUFmLENBQTBCQyxRQUExQixHQUF1Qyx3QkFDM0QsS0FBTUMsQ0FBQUEsV0FBVywwQkFBSTtBQUN2QixxREFEbUIsQ0FBakIsQ0FEMkQsd0JBRzNELEtBQU1oQixDQUFBQSxVQUFVLENBQUNLLE9BQVgsQ0FBbUJXLFdBQW5CLENBQWdDLENBQUNILE1BQUQsQ0FBU0MsU0FBVCxDQUFvQkMsUUFBcEIsQ0FBaEMsQ0FBTixDQUNELENBSkQsQyx3QkFNQSxLQUFNRSxDQUFBQSxVQUFVLENBQUcsTUFBT0osTUFBUCxDQUFlQyxTQUFmLENBQTBCQyxRQUExQixHQUF1Qyx3QkFDeEQsS0FBTVosQ0FBQUEsS0FBSywwQkFBSTtBQUNqQix5Q0FEYSxDQUFYLENBRHdELHdCQUd4RCxLQUFNSCxDQUFBQSxVQUFVLENBQUNLLE9BQVgsQ0FBbUJGLEtBQW5CLENBQTBCLENBQUNZLFFBQUQsQ0FBV0YsTUFBWCxDQUFtQkMsU0FBbkIsQ0FBMUIsQ0FBTixDQUh3RCx3QkFJeEQsTUFBTyxDQUFDLENBQUVBLFNBQUYsQ0FBYUMsUUFBYixDQUFELENBQVAsQ0FDRCxDQUxELEMsd0JBT0FHLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNmakIsTUFEZSxDQUVmSSxPQUZlLENBR2ZHLGNBSGUsQ0FJZkcsYUFKZSxDQUtmSyxVQUxlLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBjb25uZWN0aW9uIH0gPSByZXF1aXJlKCcuL2Nvbm5lY3Rpb24nKTtcblxuY29uc3QgZ2V0QWxsID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IChgU0VMRUNUXG4gICAgcy5pZCBhcyBzYWxlSWQsXG4gICAgcy5kYXRlLFxuICAgIHNwLnByb2R1Y3RfaWQgYXMgcHJvZHVjdElkLFxuICAgIHNwLnF1YW50aXR5XG4gICAgRlJPTSBTdG9yZU1hbmFnZXIuc2FsZXMgcyBKT0lOIFN0b3JlTWFuYWdlci5zYWxlc19wcm9kdWN0cyBzcCBPTiBzcC5zYWxlX2lkID0gcy5pZFxuICAgIE9SREVSIEJZIHNhbGVJZCwgcHJvZHVjdElkO2ApO1xuICBjb25zdCBbc2FsZXNdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5KTtcbiAgcmV0dXJuIHNhbGVzO1xufTtcblxuY29uc3QgZ2V0QnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1RcbiAgICBzLmRhdGUsXG4gICAgc3AucHJvZHVjdF9pZCBhcyBwcm9kdWN0SWQsXG4gICAgc3AucXVhbnRpdHlcbiAgICBGUk9NIFN0b3JlTWFuYWdlci5zYWxlcyBzXG4gICAgSk9JTiBTdG9yZU1hbmFnZXIuc2FsZXNfcHJvZHVjdHMgc3AgT04gc3Auc2FsZV9pZCA9IHMuaWRcbiAgICBXSEVSRSBzLmlkID0gP2A7XG4gIGNvbnN0IFtzYWxlXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShxdWVyeSwgW2lkXSk7XG4gIHJldHVybiBzYWxlO1xufTtcblxuY29uc3QgY3JlYXRlU2FsZURhdGUgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5RGF0ZSA9ICdJTlNFUlQgSU5UTyBTdG9yZU1hbmFnZXIuc2FsZXMgKGRhdGUpIFZBTFVFUyAoTk9XKCkpOyc7XG4gIGNvbnN0IFt7IGluc2VydElkIH1dID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5RGF0ZSk7XG4gIHJldHVybiB7IGlkOiBpbnNlcnRJZCB9O1xufTtcblxuY29uc3QgY3JlYXRlTmV3U2FsZSA9IGFzeW5jIChzYWxlSWQsIHByb2R1Y3RJZCwgcXVhbnRpdHkpID0+IHtcbiAgY29uc3QgcXVlcnlJbnNlcnQgPSBgSU5TRVJUIElOVE8gU3RvcmVNYW5hZ2VyLnNhbGVzX3Byb2R1Y3RzIFxuICAgIChzYWxlX2lkLCBwcm9kdWN0X2lkLCBxdWFudGl0eSkgVkFMVUVTKD8sID8sID8pO2A7XG4gIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShxdWVyeUluc2VydCwgW3NhbGVJZCwgcHJvZHVjdElkLCBxdWFudGl0eV0pO1xufTtcblxuY29uc3QgdXBkYXRlU2FsZSA9IGFzeW5jIChzYWxlSWQsIHByb2R1Y3RJZCwgcXVhbnRpdHkpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBgVVBEQVRFIFN0b3JlTWFuYWdlci5zYWxlc19wcm9kdWN0cyBTRVQgcXVhbnRpdHkgPSA/XG4gICAgV0hFUkUgc2FsZV9pZCA9ID8gQU5EIHByb2R1Y3RfaWQgPSA/YDtcbiAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5LCBbcXVhbnRpdHksIHNhbGVJZCwgcHJvZHVjdElkXSk7XG4gIHJldHVybiBbeyBwcm9kdWN0SWQsIHF1YW50aXR5IH1dO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEFsbCxcbiAgZ2V0QnlJZCxcbiAgY3JlYXRlU2FsZURhdGUsXG4gIGNyZWF0ZU5ld1NhbGUsXG4gIHVwZGF0ZVNhbGUsXG59OyJdfQ==