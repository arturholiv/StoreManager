function cov_rtftiw29s(){var path="/home/artur/projetos/sd-016-b-store-manager/services/productsServices.js";var hash="7629e9d3cddddca254c4763f3a4fac825c0bfc36";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/artur/projetos/sd-016-b-store-manager/services/productsServices.js",statementMap:{"0":{start:{line:1,column:23},end:{line:1,column:58}},"1":{start:{line:3,column:15},end:{line:7,column:1}},"2":{start:{line:4,column:19},end:{line:4,column:48}},"3":{start:{line:5,column:2},end:{line:5,column:54}},"4":{start:{line:5,column:17},end:{line:5,column:54}},"5":{start:{line:6,column:2},end:{line:6,column:43}},"6":{start:{line:9,column:16},end:{line:13,column:1}},"7":{start:{line:10,column:18},end:{line:10,column:50}},"8":{start:{line:11,column:2},end:{line:11,column:92}},"9":{start:{line:11,column:28},end:{line:11,column:92}},"10":{start:{line:12,column:2},end:{line:12,column:45}},"11":{start:{line:15,column:27},end:{line:28,column:1}},"12":{start:{line:16,column:22},end:{line:16,column:51}},"13":{start:{line:17,column:24},end:{line:17,column:76}},"14":{start:{line:17,column:54},end:{line:17,column:75}},"15":{start:{line:19,column:18},end:{line:19,column:73}},"16":{start:{line:20,column:2},end:{line:20,column:90}},"17":{start:{line:20,column:21},end:{line:20,column:90}},"18":{start:{line:22,column:2},end:{line:27,column:10}},"19":{start:{line:30,column:22},end:{line:38,column:1}},"20":{start:{line:31,column:19},end:{line:31,column:51}},"21":{start:{line:34,column:2},end:{line:34,column:93}},"22":{start:{line:34,column:29},end:{line:34,column:93}},"23":{start:{line:36,column:18},end:{line:36,column:72}},"24":{start:{line:37,column:2},end:{line:37,column:42}},"25":{start:{line:40,column:22},end:{line:45,column:1}},"26":{start:{line:41,column:19},end:{line:41,column:51}},"27":{start:{line:42,column:2},end:{line:42,column:93}},"28":{start:{line:42,column:29},end:{line:42,column:93}},"29":{start:{line:43,column:2},end:{line:43,column:41}},"30":{start:{line:44,column:2},end:{line:44,column:23}},"31":{start:{line:47,column:0},end:{line:53,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:15},end:{line:3,column:16}},loc:{start:{line:3,column:27},end:{line:7,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:16},end:{line:9,column:17}},loc:{start:{line:9,column:30},end:{line:13,column:1}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:27},end:{line:15,column:28}},loc:{start:{line:15,column:53},end:{line:28,column:1}},line:15},"3":{name:"(anonymous_3)",decl:{start:{line:17,column:41},end:{line:17,column:42}},loc:{start:{line:17,column:54},end:{line:17,column:75}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:22},end:{line:30,column:23}},loc:{start:{line:30,column:52},end:{line:38,column:1}},line:30},"5":{name:"(anonymous_5)",decl:{start:{line:40,column:22},end:{line:40,column:23}},loc:{start:{line:40,column:36},end:{line:45,column:1}},line:40}},branchMap:{"0":{loc:{start:{line:5,column:2},end:{line:5,column:54}},type:"if",locations:[{start:{line:5,column:2},end:{line:5,column:54}},{start:{line:5,column:2},end:{line:5,column:54}}],line:5},"1":{loc:{start:{line:11,column:2},end:{line:11,column:92}},type:"if",locations:[{start:{line:11,column:2},end:{line:11,column:92}},{start:{line:11,column:2},end:{line:11,column:92}}],line:11},"2":{loc:{start:{line:20,column:2},end:{line:20,column:90}},type:"if",locations:[{start:{line:20,column:2},end:{line:20,column:90}},{start:{line:20,column:2},end:{line:20,column:90}}],line:20},"3":{loc:{start:{line:34,column:2},end:{line:34,column:93}},type:"if",locations:[{start:{line:34,column:2},end:{line:34,column:93}},{start:{line:34,column:2},end:{line:34,column:93}}],line:34},"4":{loc:{start:{line:42,column:2},end:{line:42,column:93}},type:"if",locations:[{start:{line:42,column:2},end:{line:42,column:93}},{start:{line:42,column:2},end:{line:42,column:93}}],line:42}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7629e9d3cddddca254c4763f3a4fac825c0bfc36"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_rtftiw29s=function(){return actualCoverage;};}return actualCoverage;}cov_rtftiw29s();const productsModels=(cov_rtftiw29s().s[0]++,require('../models/productsModels'));cov_rtftiw29s().s[1]++;const getAll=async()=>{cov_rtftiw29s().f[0]++;const products=(cov_rtftiw29s().s[2]++,await productsModels.getAll());cov_rtftiw29s().s[3]++;if(!products){cov_rtftiw29s().b[0][0]++;cov_rtftiw29s().s[4]++;return{code:500,response:null};}else{cov_rtftiw29s().b[0][1]++;}cov_rtftiw29s().s[5]++;return{code:200,response:products};};cov_rtftiw29s().s[6]++;const getById=async id=>{cov_rtftiw29s().f[1]++;const product=(cov_rtftiw29s().s[7]++,await productsModels.getById(id));cov_rtftiw29s().s[8]++;if(product.length===0){cov_rtftiw29s().b[1][0]++;cov_rtftiw29s().s[9]++;return{code:404,message:{message:'Product not found'}};}else{cov_rtftiw29s().b[1][1]++;}cov_rtftiw29s().s[10]++;return{code:200,response:product[0]};};cov_rtftiw29s().s[11]++;const registerNewProduct=async(name,quantity)=>{cov_rtftiw29s().f[2]++;const allProducts=(cov_rtftiw29s().s[12]++,await productsModels.getAll());const productExists=(cov_rtftiw29s().s[13]++,allProducts.find(product=>{cov_rtftiw29s().f[3]++;cov_rtftiw29s().s[14]++;return product.name===name;}));const product=(cov_rtftiw29s().s[15]++,await productsModels.registerNewProduct(name,quantity));cov_rtftiw29s().s[16]++;if(productExists){cov_rtftiw29s().b[2][0]++;cov_rtftiw29s().s[17]++;return{code:409,message:{message:'Product already exists'}};}else{cov_rtftiw29s().b[2][1]++;}cov_rtftiw29s().s[18]++;return{code:201,response:{id:product.id,name,quantity}};};cov_rtftiw29s().s[19]++;const updateProduct=async(id,name,quantity)=>{cov_rtftiw29s().f[4]++;const searchId=(cov_rtftiw29s().s[20]++,await productsModels.getById(id));// const idExists = allProducts.find((product) => product.id === id);
cov_rtftiw29s().s[21]++;if(searchId.length===0){cov_rtftiw29s().b[3][0]++;cov_rtftiw29s().s[22]++;return{code:404,message:{message:'Product not found'}};}else{cov_rtftiw29s().b[3][1]++;}const product=(cov_rtftiw29s().s[23]++,await productsModels.updateProduct(id,name,quantity));cov_rtftiw29s().s[24]++;return{code:200,response:product};};cov_rtftiw29s().s[25]++;const deleteProduct=async id=>{cov_rtftiw29s().f[5]++;const searchId=(cov_rtftiw29s().s[26]++,await productsModels.getById(id));cov_rtftiw29s().s[27]++;if(searchId.length===0){cov_rtftiw29s().b[4][0]++;cov_rtftiw29s().s[28]++;return{code:404,message:{message:'Product not found'}};}else{cov_rtftiw29s().b[4][1]++;}cov_rtftiw29s().s[29]++;await productsModels.deleteProduct(id);cov_rtftiw29s().s[30]++;return{code:204};};cov_rtftiw29s().s[31]++;module.exports={getAll,getById,registerNewProduct,updateProduct,deleteProduct};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzU2VydmljZXMuanMiXSwibmFtZXMiOlsicHJvZHVjdHNNb2RlbHMiLCJyZXF1aXJlIiwiZ2V0QWxsIiwicHJvZHVjdHMiLCJjb2RlIiwicmVzcG9uc2UiLCJnZXRCeUlkIiwiaWQiLCJwcm9kdWN0IiwibGVuZ3RoIiwibWVzc2FnZSIsInJlZ2lzdGVyTmV3UHJvZHVjdCIsIm5hbWUiLCJxdWFudGl0eSIsImFsbFByb2R1Y3RzIiwicHJvZHVjdEV4aXN0cyIsImZpbmQiLCJ1cGRhdGVQcm9kdWN0Iiwic2VhcmNoSWQiLCJkZWxldGVQcm9kdWN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Im84SUFlWTt5RkFmWixLQUFNQSxDQUFBQSxjQUFjLHlCQUFHQyxPQUFPLENBQUMsMEJBQUQsQ0FBVixDQUFwQixDLHVCQUVBLEtBQU1DLENBQUFBLE1BQU0sQ0FBRyxTQUFZLHdCQUN6QixLQUFNQyxDQUFBQSxRQUFRLHlCQUFHLEtBQU1ILENBQUFBLGNBQWMsQ0FBQ0UsTUFBZixFQUFULENBQWQsQ0FEeUIsdUJBRXpCLEdBQUksQ0FBQ0MsUUFBTCxDQUFlLHdEQUFPLENBQUVDLElBQUksQ0FBRSxHQUFSLENBQWFDLFFBQVEsQ0FBRSxJQUF2QixDQUFQLENBQXFDLENBQXBELGdDQUZ5Qix1QkFHekIsTUFBTyxDQUFFRCxJQUFJLENBQUUsR0FBUixDQUFhQyxRQUFRLENBQUVGLFFBQXZCLENBQVAsQ0FDRCxDQUpELEMsdUJBTUEsS0FBTUcsQ0FBQUEsT0FBTyxDQUFHLEtBQU9DLENBQUFBLEVBQVAsRUFBYyx3QkFDNUIsS0FBTUMsQ0FBQUEsT0FBTyx5QkFBRyxLQUFNUixDQUFBQSxjQUFjLENBQUNNLE9BQWYsQ0FBdUJDLEVBQXZCLENBQVQsQ0FBYixDQUQ0Qix1QkFFNUIsR0FBSUMsT0FBTyxDQUFDQyxNQUFSLEdBQW1CLENBQXZCLENBQTBCLHdEQUFPLENBQUVMLElBQUksQ0FBRSxHQUFSLENBQWFNLE9BQU8sQ0FBRSxDQUFFQSxPQUFPLENBQUUsbUJBQVgsQ0FBdEIsQ0FBUCxDQUFnRSxDQUExRixnQ0FGNEIsd0JBRzVCLE1BQU8sQ0FBRU4sSUFBSSxDQUFFLEdBQVIsQ0FBYUMsUUFBUSxDQUFFRyxPQUFPLENBQUMsQ0FBRCxDQUE5QixDQUFQLENBQ0QsQ0FKRCxDLHdCQU1BLEtBQU1HLENBQUFBLGtCQUFrQixDQUFHLE1BQU9DLElBQVAsQ0FBYUMsUUFBYixHQUEwQix3QkFDbkQsS0FBTUMsQ0FBQUEsV0FBVywwQkFBRyxLQUFNZCxDQUFBQSxjQUFjLENBQUNFLE1BQWYsRUFBVCxDQUFqQixDQUNBLEtBQU1hLENBQUFBLGFBQWEsMEJBQUdELFdBQVcsQ0FBQ0UsSUFBWixDQUFrQlIsT0FBRCxFQUFhLHNEQUFBQSxDQUFBQSxPQUFPLENBQUNJLElBQVIsR0FBaUJBLElBQWpCLENBQXFCLENBQW5ELENBQUgsQ0FBbkIsQ0FFQSxLQUFNSixDQUFBQSxPQUFPLDBCQUFHLEtBQU1SLENBQUFBLGNBQWMsQ0FBQ1csa0JBQWYsQ0FBa0NDLElBQWxDLENBQXdDQyxRQUF4QyxDQUFULENBQWIsQ0FKbUQsd0JBS25ELEdBQUlFLGFBQUosQ0FBbUIseURBQU8sQ0FBRVgsSUFBSSxDQUFFLEdBQVIsQ0FBYU0sT0FBTyxDQUFFLENBQUVBLE9BQU8sQ0FBRSx3QkFBWCxDQUF0QixDQUFQLENBQXFFLENBQXhGLGdDQUxtRCx3QkFPbkQsTUFBTyxDQUFFTixJQUFJLENBQUUsR0FBUixDQUNMQyxRQUFRLENBQUUsQ0FDTkUsRUFBRSxDQUFFQyxPQUFPLENBQUNELEVBRE4sQ0FFTkssSUFGTSxDQUdOQyxRQUhNLENBREwsQ0FBUCxDQU1ELENBYkQsQyx3QkFlQSxLQUFNSSxDQUFBQSxhQUFhLENBQUcsTUFBT1YsRUFBUCxDQUFXSyxJQUFYLENBQWlCQyxRQUFqQixHQUE4Qix3QkFDbEQsS0FBTUssQ0FBQUEsUUFBUSwwQkFBRyxLQUFNbEIsQ0FBQUEsY0FBYyxDQUFDTSxPQUFmLENBQXVCQyxFQUF2QixDQUFULENBQWQsQ0FDQTtBQUZrRCx3QkFJbEQsR0FBSVcsUUFBUSxDQUFDVCxNQUFULEdBQW9CLENBQXhCLENBQTJCLHlEQUFPLENBQUVMLElBQUksQ0FBRSxHQUFSLENBQWFNLE9BQU8sQ0FBRSxDQUFFQSxPQUFPLENBQUUsbUJBQVgsQ0FBdEIsQ0FBUCxDQUFnRSxDQUEzRixnQ0FFQSxLQUFNRixDQUFBQSxPQUFPLDBCQUFHLEtBQU1SLENBQUFBLGNBQWMsQ0FBQ2lCLGFBQWYsQ0FBNkJWLEVBQTdCLENBQWlDSyxJQUFqQyxDQUF1Q0MsUUFBdkMsQ0FBVCxDQUFiLENBTmtELHdCQU9sRCxNQUFPLENBQUVULElBQUksQ0FBRSxHQUFSLENBQWFDLFFBQVEsQ0FBRUcsT0FBdkIsQ0FBUCxDQUNELENBUkQsQyx3QkFVQSxLQUFNVyxDQUFBQSxhQUFhLENBQUcsS0FBT1osQ0FBQUEsRUFBUCxFQUFjLHdCQUNsQyxLQUFNVyxDQUFBQSxRQUFRLDBCQUFHLEtBQU1sQixDQUFBQSxjQUFjLENBQUNNLE9BQWYsQ0FBdUJDLEVBQXZCLENBQVQsQ0FBZCxDQURrQyx3QkFFbEMsR0FBSVcsUUFBUSxDQUFDVCxNQUFULEdBQW9CLENBQXhCLENBQTJCLHlEQUFPLENBQUVMLElBQUksQ0FBRSxHQUFSLENBQWFNLE9BQU8sQ0FBRSxDQUFFQSxPQUFPLENBQUUsbUJBQVgsQ0FBdEIsQ0FBUCxDQUFnRSxDQUEzRixnQ0FGa0Msd0JBR2xDLEtBQU1WLENBQUFBLGNBQWMsQ0FBQ21CLGFBQWYsQ0FBNkJaLEVBQTdCLENBQU4sQ0FIa0Msd0JBSWxDLE1BQU8sQ0FBRUgsSUFBSSxDQUFFLEdBQVIsQ0FBUCxDQUNELENBTEQsQyx3QkFPQWdCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNmbkIsTUFEZSxDQUVmSSxPQUZlLENBR2ZLLGtCQUhlLENBSWZNLGFBSmUsQ0FLZkUsYUFMZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHByb2R1Y3RzTW9kZWxzID0gcmVxdWlyZSgnLi4vbW9kZWxzL3Byb2R1Y3RzTW9kZWxzJyk7XG5cbmNvbnN0IGdldEFsbCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0c01vZGVscy5nZXRBbGwoKTtcbiAgaWYgKCFwcm9kdWN0cykgcmV0dXJuIHsgY29kZTogNTAwLCByZXNwb25zZTogbnVsbCB9OyBcbiAgcmV0dXJuIHsgY29kZTogMjAwLCByZXNwb25zZTogcHJvZHVjdHMgfTtcbn07XG5cbmNvbnN0IGdldEJ5SWQgPSBhc3luYyAoaWQpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RzTW9kZWxzLmdldEJ5SWQoaWQpO1xuICBpZiAocHJvZHVjdC5sZW5ndGggPT09IDApIHJldHVybiB7IGNvZGU6IDQwNCwgbWVzc2FnZTogeyBtZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQnIH0gfTtcbiAgcmV0dXJuIHsgY29kZTogMjAwLCByZXNwb25zZTogcHJvZHVjdFswXSB9O1xufTtcblxuY29uc3QgcmVnaXN0ZXJOZXdQcm9kdWN0ID0gYXN5bmMgKG5hbWUsIHF1YW50aXR5KSA9PiB7XG4gIGNvbnN0IGFsbFByb2R1Y3RzID0gYXdhaXQgcHJvZHVjdHNNb2RlbHMuZ2V0QWxsKCk7XG4gIGNvbnN0IHByb2R1Y3RFeGlzdHMgPSBhbGxQcm9kdWN0cy5maW5kKChwcm9kdWN0KSA9PiBwcm9kdWN0Lm5hbWUgPT09IG5hbWUpO1xuXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0c01vZGVscy5yZWdpc3Rlck5ld1Byb2R1Y3QobmFtZSwgcXVhbnRpdHkpO1xuICBpZiAocHJvZHVjdEV4aXN0cykgcmV0dXJuIHsgY29kZTogNDA5LCBtZXNzYWdlOiB7IG1lc3NhZ2U6ICdQcm9kdWN0IGFscmVhZHkgZXhpc3RzJyB9IH07XG5cbiAgcmV0dXJuIHsgY29kZTogMjAxLFxuICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICBuYW1lLFxuICAgICAgICBxdWFudGl0eSxcbiAgICAgIH0gfTtcbn07XG5cbmNvbnN0IHVwZGF0ZVByb2R1Y3QgPSBhc3luYyAoaWQsIG5hbWUsIHF1YW50aXR5KSA9PiB7XG4gIGNvbnN0IHNlYXJjaElkID0gYXdhaXQgcHJvZHVjdHNNb2RlbHMuZ2V0QnlJZChpZCk7XG4gIC8vIGNvbnN0IGlkRXhpc3RzID0gYWxsUHJvZHVjdHMuZmluZCgocHJvZHVjdCkgPT4gcHJvZHVjdC5pZCA9PT0gaWQpO1xuXG4gIGlmIChzZWFyY2hJZC5sZW5ndGggPT09IDApIHJldHVybiB7IGNvZGU6IDQwNCwgbWVzc2FnZTogeyBtZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQnIH0gfTtcblxuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdHNNb2RlbHMudXBkYXRlUHJvZHVjdChpZCwgbmFtZSwgcXVhbnRpdHkpO1xuICByZXR1cm4geyBjb2RlOiAyMDAsIHJlc3BvbnNlOiBwcm9kdWN0IH07XG59O1xuXG5jb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKGlkKSA9PiB7XG4gIGNvbnN0IHNlYXJjaElkID0gYXdhaXQgcHJvZHVjdHNNb2RlbHMuZ2V0QnlJZChpZCk7XG4gIGlmIChzZWFyY2hJZC5sZW5ndGggPT09IDApIHJldHVybiB7IGNvZGU6IDQwNCwgbWVzc2FnZTogeyBtZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQnIH0gfTtcbiAgYXdhaXQgcHJvZHVjdHNNb2RlbHMuZGVsZXRlUHJvZHVjdChpZCk7XG4gIHJldHVybiB7IGNvZGU6IDIwNCB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEFsbCxcbiAgZ2V0QnlJZCxcbiAgcmVnaXN0ZXJOZXdQcm9kdWN0LFxuICB1cGRhdGVQcm9kdWN0LFxuICBkZWxldGVQcm9kdWN0LFxufTsiXX0=